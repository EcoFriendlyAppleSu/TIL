
---

🍎 프로젝트 관련
→ 다량의 데이터를 밀어넣는 과정에서 로직이 틀려 잘못된 값이 들어가는 것을 바로잡았습니다.
→ mysql에 double type으로 x, y 좌표를 입력하면 소숫점 아래 세번째까지 밖에 표현하지 못하는 것의 해결 방안을 찾았습니다.
→ spatial type 인 Point를 사용하면 얻은 좌표를 모두 표현할 수 있습니다.

🍎 새로 알게된 사실 혹은 알고 있던 사실에대한 질문, 답변

🍎 외부API를 사용할 때, 인가 시 사용할 JWT를 구현할 때 등장한  Base64 encoding or decoding에 대해서 알아보고자 한다.

_> 다른 인코딩 방식도 많을텐데 왜 웹에서 유독 Base64로 인/디코딩 하는 것일까?

🍏 What is Base64?

→Base64는 이진 데이터(이미지 또는 파일)를 ASCII 텍스트로 인코딩하는 방법입니다.

→ HTML, CSS 또는 자바스크립트 또는 텍스트 기반 형식의 데이터에 이미지를 포함하는 데 사용됩니다. Base64 인코딩 알고리즘은 이진 데이터를 문자, 숫자 및 몇 개의 특수 문자를 포함한 64개의 다른 ASCII 문자로 변환합니다.

→ 인코딩된 데이터는 일반적으로 원래의 이진 형식으로 쉽게 저장, 전송 및 디코딩할 수 있는 문자 문자열로 표시됩니다.

→ Base64는 6bit 당 2bit의 오버헤드의 발생으로 기존 데이터보다 30%이상 길어지게 되며 여기에 Encoding, Decoding의 로직까지 추가되므로 성능에 영향을 끼칠 수도 있습니다.

❓ 그럼에도, Base64를 사용하는 이유가 있나요?

→ 사용하는 가장 큰 이유는 binary 데이터를 텍스트 기반 규격으로 다룰 수 있기 때문입니다. JSON과 같은 문자열 기반 데이터 안에 이미지 파일 등을 Web에서 필요로 할 때 **Base64로 인코딩하면 UTF-8과 호환 가능한 문자열**을 얻을 수 있습니다.

→ 끝에 ‘=’과 같은 패딩 기호가 있다면 제거하는 알고리즘을 통해 쉽게 제거 가능하다.

→ 기존 ASCII 코드는 시스템간 데이터를 전달하기에 안전하지 않다. 모든 Binary 데이터가 ASCII 코드에 포함되지 않으므로 제대로 동작하지 않을 수 있다. 반면 Base64는 ASCII 중 제어문자와 일부 특수문자를 제외한 53개의 안전한 출력 문자만 이용하므로 데이터 전달에 더 적합하다.

🍏 Base64 Encoding

→ Base64는 Binary 데이터를 문자로 변환하는데 영향을 받지 않는 공통 ASCII 코드 영역의 문자로만 이루어진 문자열로 바꾸는 Encoding입니다.

→ 문자 그대로 64진법(2^6)을 사용하며 Binary 데이터를 6bit 씩 나누고 해당하는 문자를 위의 색인표에서 맞게 치환하는 과정을 거칩니다. 6bit cut을 진행함에 있어서 모든 문자열이 3개씩 이쁘게 떨어지면 좋겠지만, 아닌 경우도 존재합니다.

→ 그런 경우를 대비해 padding을 하는데 남는자리에 = 기호를 통해서 채워주는 방식으로 Encoding을 진행합니다.

→ Padding 문자가 반드시 필요하진 않지만 TCP처럼 Stream 형태로 데이터를 주고받는 형태에선 Padding이 유용합니다.

❓Padding이 필요한 이유

→ Base64는 기본적으로 6bit으로 데이터를 변경합니다. 하지만 6bit 데이터는 바이트를 기준으로 데이터를 처리하는 와중 2bit 공간이 부족하게됩니다.

→ 이 때, padding character ‘=’를 채워 넣음으로써 8bits(1 byte)를 만들어줍니다.

→ Padding을 더함으로서 Decoder에게 데이터의 시작과 끝을 알려줄 수 있습니다.

---

📚 Reference

[Base64 Decode and Encode - Online](https://www.base64decode.org/)

[암호화 패딩(Padding) & Base64 Encoding](https://blog.sinsiway.com/37)
